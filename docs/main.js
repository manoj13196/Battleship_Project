(()=>{"use strict";var e={56:(e,r,n)=>{e.exports=function(e){var r=n.nc;r&&e.setAttribute("nonce",r)}},72:e=>{var r=[];function n(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function t(e,t){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=t.base?c[0]+t.base:c[0],u=a[l]||0,p="".concat(l," ").concat(u);a[l]=u+1;var d=n(p),A={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)r[d].references++,r[d].updater(A);else{var h=o(A,t);t.byIndex=s,r.splice(s,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function o(e,r){var n=r.domAPI(r);return n.update(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap&&r.supports===e.supports&&r.layer===e.layer)return;n.update(e=r)}else n.remove()}}e.exports=function(e,o){var a=t(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);r[s].references--}for(var c=t(e,o),l=0;l<a.length;l++){var u=n(a[l]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}a=c}}},113:e=>{e.exports=function(e,r){if(r.styleSheet)r.styleSheet.cssText=e;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var r=[];return r.toString=function(){return this.map((function(r){var n="",t=void 0!==r[5];return r[4]&&(n+="@supports (".concat(r[4],") {")),r[2]&&(n+="@media ".concat(r[2]," {")),t&&(n+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),n+=e(r),t&&(n+="}"),r[2]&&(n+="}"),r[4]&&(n+="}"),n})).join("")},r.i=function(e,n,t,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(t)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);t&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),r.push(u))}},r}},354:e=>{e.exports=function(e){var r=e[1],n=e[3];if(!n)return r;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),a="/*# ".concat(o," */");return[r].concat([a]).join("\n")}return[r].join("\n")}},540:e=>{e.exports=function(e){var r=document.createElement("style");return e.setAttributes(r,e.attributes),e.insert(r,e.options),r}},659:e=>{var r={};e.exports=function(e,n){var t=function(e){if(void 0===r[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}r[e]=n}return r[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var r=e.insertStyleElement(e);return{update:function(n){!function(e,r,n){var t="";n.supports&&(t+="@supports (".concat(n.supports,") {")),n.media&&(t+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(t+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),t+=n.css,o&&(t+="}"),n.media&&(t+="}"),n.supports&&(t+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),r.styleTagTransform(t,e,r.options)}(r,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)}}}},967:(e,r,n)=>{n.d(r,{A:()=>s});var t=n(354),o=n.n(t),a=n(314),i=n.n(a)()(o());i.push([e.id,"/* General Styles */\nbody {\n  font-family: Arial, sans-serif;\n  text-align: center;\n  background-color: #1a1a2e;\n  color: #ffffff;\n  margin: 0;\n  padding: 0;\n}\n\n/* Header */\nheader {\n  background: #16213e;\n  padding: 1rem;\n  font-size: 1.5rem;\n}\n\n/* Main Layout */\n.boards-container {\n  display: flex;\n  justify-content: center;\n  gap: 2rem;\n  margin-top: 20px;\n}\n\n.board-section h2 {\n  margin-bottom: 10px;\n}\n\n/* Game Boards */\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 30px);\n  grid-template-rows: repeat(10, 30px);\n  gap: 2px;\n  background-color: #0f3460;\n  padding: 5px;\n}\n\n.cell {\n  width: 30px;\n  height: 30px;\n  border: 1px solid #576574;\n  position: relative;\n  cursor: pointer;\n  /* Remove any transitions or animations */\n  transition: none;\n}\n\n/* Make ship cells visible */\n.cell.ship {\n  background-color: #3a3a3a; /* Gray for ships */\n  border: 1px solid #ffffff;\n}\n\n/* Make hit cells visible */\n.cell.hit {\n  background-color: red; /* Red color for hits on ships */\n  border: 2px solid #ff0000;\n}\n\n/* Make miss cells visible */\n.cell.miss {\n  background-color: blue; /* Blue color for misses */\n  border: 2px solid #0000ff;\n}\n\n.cell.ship.hit {\n  background-color: orange; /* Highlight hit ship cells */\n}\n\n.cell.hidden {\n  background-color: #c0c0c0;\n}\n\n/* Controls */\n.controls {\n  margin-top: 20px;\n}\n\nbutton {\n  background-color: #ff4757;\n  color: white;\n  border: none;\n  padding: 10px 15px;\n  margin: 5px;\n  font-size: 1rem;\n  cursor: pointer;\n  border-radius: 5px;\n}\n\nbutton:hover {\n  background-color: #e84118;\n}\n\n/* Disable buttons when they are disabled */\nbutton:disabled {\n  background-color: #888888;\n  cursor: not-allowed;\n}\n\nbutton#restart-game {\n  background-color: #4caf50; /* Green color for restart button */\n  color: white;\n  border: none;\n  padding: 10px 15px;\n  margin: 5px;\n  font-size: 1rem;\n  cursor: pointer;\n  border-radius: 5px;\n}\n\nbutton#restart-game:hover {\n  background-color: #45a049;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .boards-container {\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .board {\n    grid-template-columns: repeat(10, 25px);\n    grid-template-rows: repeat(10, 25px);\n  }\n}\n","",{version:3,sources:["webpack://./styles/styles.css"],names:[],mappings:"AAAA,mBAAmB;AACnB;EACE,8BAA8B;EAC9B,kBAAkB;EAClB,yBAAyB;EACzB,cAAc;EACd,SAAS;EACT,UAAU;AACZ;;AAEA,WAAW;AACX;EACE,mBAAmB;EACnB,aAAa;EACb,iBAAiB;AACnB;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,uBAAuB;EACvB,SAAS;EACT,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;AACrB;;AAEA,gBAAgB;AAChB;EACE,aAAa;EACb,uCAAuC;EACvC,oCAAoC;EACpC,QAAQ;EACR,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,yCAAyC;EACzC,gBAAgB;AAClB;;AAEA,4BAA4B;AAC5B;EACE,yBAAyB,EAAE,mBAAmB;EAC9C,yBAAyB;AAC3B;;AAEA,2BAA2B;AAC3B;EACE,qBAAqB,EAAE,gCAAgC;EACvD,yBAAyB;AAC3B;;AAEA,4BAA4B;AAC5B;EACE,sBAAsB,EAAE,0BAA0B;EAClD,yBAAyB;AAC3B;;AAEA;EACE,wBAAwB,EAAE,6BAA6B;AACzD;;AAEA;EACE,yBAAyB;AAC3B;;AAEA,aAAa;AACb;EACE,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA,2CAA2C;AAC3C;EACE,yBAAyB;EACzB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB,EAAE,mCAAmC;EAC9D,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA,sBAAsB;AACtB;EACE;IACE,sBAAsB;IACtB,mBAAmB;EACrB;;EAEA;IACE,uCAAuC;IACvC,oCAAoC;EACtC;AACF",sourcesContent:["/* General Styles */\r\nbody {\r\n  font-family: Arial, sans-serif;\r\n  text-align: center;\r\n  background-color: #1a1a2e;\r\n  color: #ffffff;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n/* Header */\r\nheader {\r\n  background: #16213e;\r\n  padding: 1rem;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n/* Main Layout */\r\n.boards-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 2rem;\r\n  margin-top: 20px;\r\n}\r\n\r\n.board-section h2 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* Game Boards */\r\n.board {\r\n  display: grid;\r\n  grid-template-columns: repeat(10, 30px);\r\n  grid-template-rows: repeat(10, 30px);\r\n  gap: 2px;\r\n  background-color: #0f3460;\r\n  padding: 5px;\r\n}\r\n\r\n.cell {\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 1px solid #576574;\r\n  position: relative;\r\n  cursor: pointer;\r\n  /* Remove any transitions or animations */\r\n  transition: none;\r\n}\r\n\r\n/* Make ship cells visible */\r\n.cell.ship {\r\n  background-color: #3a3a3a; /* Gray for ships */\r\n  border: 1px solid #ffffff;\r\n}\r\n\r\n/* Make hit cells visible */\r\n.cell.hit {\r\n  background-color: red; /* Red color for hits on ships */\r\n  border: 2px solid #ff0000;\r\n}\r\n\r\n/* Make miss cells visible */\r\n.cell.miss {\r\n  background-color: blue; /* Blue color for misses */\r\n  border: 2px solid #0000ff;\r\n}\r\n\r\n.cell.ship.hit {\r\n  background-color: orange; /* Highlight hit ship cells */\r\n}\r\n\r\n.cell.hidden {\r\n  background-color: #c0c0c0;\r\n}\r\n\r\n/* Controls */\r\n.controls {\r\n  margin-top: 20px;\r\n}\r\n\r\nbutton {\r\n  background-color: #ff4757;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 15px;\r\n  margin: 5px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #e84118;\r\n}\r\n\r\n/* Disable buttons when they are disabled */\r\nbutton:disabled {\r\n  background-color: #888888;\r\n  cursor: not-allowed;\r\n}\r\n\r\nbutton#restart-game {\r\n  background-color: #4caf50; /* Green color for restart button */\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 15px;\r\n  margin: 5px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n}\r\n\r\nbutton#restart-game:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 768px) {\r\n  .boards-container {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  .board {\r\n    grid-template-columns: repeat(10, 25px);\r\n    grid-template-rows: repeat(10, 25px);\r\n  }\r\n}\r\n"],sourceRoot:""}]);const s=i}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={id:t,exports:{}};return e[t](a,a.exports,n),a.exports}n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.nc=void 0;var t=n(72),o=n.n(t),a=n(825),i=n.n(a),s=n(659),c=n.n(s),l=n(56),u=n.n(l),p=n(540),d=n.n(p),A=n(113),h=n.n(A),f=n(967),m={};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,b(t.key),t)}}function b(e){var r=function(e){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(r)?r:r+""}m.styleTagTransform=h(),m.setAttributes=u(),m.insert=c().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=d(),o()(f.A,m),f.A&&f.A.locals&&f.A.locals;var g=function(){return e=function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.board=[],this.ships=[],this.createBoard()},(r=[{key:"createBoard",value:function(){for(var e=0;e<10;e++){for(var r=[],n=0;n<10;n++)r.push({ship:null,hit:!1});this.board.push(r)}}},{key:"placeShip",value:function(e,r,n,t){var o=e.length;if(t){if(n+o>10)return!1;for(var a=0;a<o;a++)if(this.board[n+a][r].ship)return!1;for(var i=0;i<o;i++)this.board[n+i][r].ship=e}else{if(r+o>10)return!1;for(var s=0;s<o;s++)if(this.board[n][r+s].ship)return!1;for(var c=0;c<o;c++)this.board[n][r+c].ship=e}return this.ships.push(e),!0}},{key:"receiveAttack",value:function(e,r){var n=this.board[e][r];return!n.hit&&(n.hit=!0,n.ship?(n.ship.hit(),"hit"):"miss")}},{key:"allShipsSunk",value:function(){return this.ships.every((function(e){return e.isSunk()}))}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function C(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,E(t.key),t)}}function E(e){var r=function(e){if("object"!=B(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(r)?r:r+""}var k=function(){return e=function e(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=r,this.isAI=n,this.attacksMade=new Set},(r=[{key:"attack",value:function(e,r,n){return!this.attacksMade.has("".concat(r,",").concat(n))&&(this.attacksMade.add("".concat(r,",").concat(n)),e.receiveAttack(r,n))}},{key:"aiAttack",value:function(e){var r,n,t=0;do{if(r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),++t>100)return console.error("AI has no valid moves left!"),!1}while(this.attacksMade.has("".concat(r,",").concat(n)));return this.attacksMade.add("".concat(r,",").concat(n)),e.receiveAttack(r,n)}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();function S(e){var r=0;return{length:e,hits:r,hit:function(){r<e&&r++},isSunk:function(){return r===e}}}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function w(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;c=!1}else for(;!(c=(t=a.call(n)).done)&&(s.push(t.value),s.length!==r);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,r)||function(e,r){if(e){if("string"==typeof e)return T(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}function M(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,G(t.key),t)}}function G(e){var r=function(e){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(r)?r:r+""}var P=function(){return e=function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGameStarted=!1,this.isPlayerTurn=!0,this.playerBoard=new g,this.computerBoard=new g,this.player=new k(this.playerBoard),this.computer=new k(this.computerBoard),this.shipTypes=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],this.shipLengths={Carrier:5,Battleship:4,Cruiser:3,Submarine:3,Destroyer:2},this.currentShipType=this.shipTypes[0],this.isVertical=!0,this.placedShipsCount=0,this.computerTargetQueue=[]},(r=[{key:"getShipLength",value:function(e){return this.shipLengths[e]}},{key:"startGame",value:function(){this.placedShipsCount<this.shipTypes.length?console.log("Place all ships before starting the game!"):(this.isGameStarted=!0,this.isPlayerTurn=!0,this.placeComputerShips(),console.log("Game started!"))}},{key:"placeComputerShips",value:function(){var e=this;this.shipTypes.forEach((function(r){for(var n=!1;!n;){var t=Math.floor(10*Math.random()),o=Math.floor(10*Math.random()),a=Math.random()<.5,i=new S(e.getShipLength(r));n=e.computerBoard.placeShip(i,t,o,a)}}))}},{key:"placeShip",value:function(e,r){var n=new S(this.getShipLength(this.currentShipType)),t=this.playerBoard.placeShip(n,e,r,this.isVertical);return t?(console.log("Placed ".concat(this.currentShipType," at (").concat(e,", ").concat(r,")")),this.placedShipsCount++,this.moveToNextShip()):console.log("Failed to place ".concat(this.currentShipType," at (").concat(e,", ").concat(r,")")),t}},{key:"moveShip",value:function(e,r){}},{key:"rotateShip",value:function(){this.isVertical=!this.isVertical}},{key:"moveToNextShip",value:function(){var e=this.shipTypes.indexOf(this.currentShipType);e<this.shipTypes.length-1?this.currentShipType=this.shipTypes[e+1]:this.placedShipsCount===this.shipTypes.length&&console.log("All ships placed. Ready to start the game.")}},{key:"attackComputer",value:function(e,r){var n=this;if(!this.isPlayerTurn||!this.isGameStarted)return!1;if(this.computerBoard.board[r][e].hit)return console.log("You already attacked this cell!"),!1;var t=this.computerBoard.receiveAttack(r,e);return"hit"===t?(console.log("You hit a ship!"),this.checkForWinner(),t):("miss"===t&&(console.log("You missed!"),this.isPlayerTurn=!1,this.checkForWinner(),this.isGameStarted&&setTimeout((function(){return n.computerTurn()}),500)),t)}},{key:"computerTurn",value:function(){var e=this;if(!this.isPlayerTurn&&this.isGameStarted){for(var r,n,t;this.computerTargetQueue.length>0;){var o=w(this.computerTargetQueue.shift(),2);if(r=o[0],n=o[1],!this.playerBoard.board[n][r].hit){t=this.playerBoard.receiveAttack(n,r);break}}if(!t){var a=0;do{if(r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),++a>100)return void console.error("Computer has no valid moves left!")}while(this.playerBoard.board[n][r].hit);t=this.playerBoard.receiveAttack(n,r)}"hit"===t?(console.log("Computer hit your ship at (".concat(r,", ").concat(n,")!")),this.addAdjacentCellsToQueue(r,n),this.checkForWinner(),setTimeout((function(){return e.computerTurn()}),500)):"miss"===t&&(console.log("Computer missed at (".concat(r,", ").concat(n,").")),this.isPlayerTurn=!0,this.checkForWinner()),document.dispatchEvent(new Event("updateBoards"))}}},{key:"addAdjacentCellsToQueue",value:function(e,r){var n=this;[[0,1],[1,0],[0,-1],[-1,0]].forEach((function(t){var o=w(t,2),a=o[0],i=o[1],s=e+a,c=r+i;s>=0&&s<10&&c>=0&&c<10&&!n.playerBoard.board[c][s].hit&&!n.computerTargetQueue.some((function(e){var r=w(e,2),n=r[0],t=r[1];return n===s&&t===c}))&&n.computerTargetQueue.push([s,c])}))}},{key:"checkForWinner",value:function(){this.computerBoard.allShipsSunk()?(console.log("Player wins!"),this.endGame("Player")):this.playerBoard.allShipsSunk()&&(console.log("Computer wins!"),this.endGame("Computer"))}},{key:"endGame",value:function(e){this.isGameStarted=!1,document.getElementById("game-info").textContent="Game Over! ".concat(e," wins!"),document.getElementById("restart-game").style.display="inline-block"}},{key:"resetGame",value:function(){this.isGameStarted=!1,this.isPlayerTurn=!0,this.playerBoard=new g,this.computerBoard=new g,this.player=new k(this.playerBoard),this.computer=new k(this.computerBoard),this.currentShipType=this.shipTypes[0],this.placedShipsCount=0,console.log("Game has been reset.")}}])&&M(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();document.addEventListener("DOMContentLoaded",(function(){var e=new P,r=function(e){var r=document.getElementById("player-board"),n=document.getElementById("computer-board"),t=document.getElementById("game-info"),o=document.getElementById("start-game"),a=document.getElementById("rotate-ship");function i(){s(e.playerBoard,r,!1),s(e.computerBoard,n,!0)}function s(r,n,t){n.innerHTML="";for(var o=function(o){for(var a=function(a){var s=document.createElement("div");s.classList.add("cell"),s.dataset.row=o,s.dataset.col=a;var l=r.board[o][a];l.hit&&s.classList.add(l.ship?"hit":"miss"),l.ship&&!t&&s.classList.add("ship"),e.isGameStarted||t||s.addEventListener("click",(function(){e.placeShip(a,o)||alert("Invalid placement! Try again."),i()})),e.isGameStarted&&t&&(e.isPlayerTurn?s.addEventListener("click",(function(){l.hit?alert("You already attacked this cell!"):e.attackComputer(a,o)&&(i(),c())})):s.style.pointerEvents="none"),n.appendChild(s)},s=0;s<10;s++)a(s)},a=0;a<10;a++)o(a)}function c(){e.isGameStarted&&(t.textContent=e.isPlayerTurn?"Your turn! Click on the computer's board.":"Computer's turn! Please wait...")}return document.addEventListener("updateBoards",(function(){i(),c()})),o.addEventListener("click",(function(){e.placedShipsCount<e.shipTypes.length?alert("Place all ships before starting the game!"):(e.startGame(),i(),c(),o.disabled=!0,a.disabled=!0)})),document.getElementById("restart-game").addEventListener("click",(function(){e.resetGame(),i(),c(),document.getElementById("game-info").textContent="Place your ships or adjust their positions",document.getElementById("restart-game").style.display="none",o.disabled=!1,a.disabled=!1})),{renderBoards:i,updateGameInfo:c}}(e);r.renderBoards(),document.getElementById("rotate-ship").addEventListener("click",(function(){e.rotateShip(),alert("Ship orientation: ".concat(e.isVertical?"Vertical":"Horizontal"))})),document.getElementById("start-game").addEventListener("click",(function(){e.isGameStarted||(e.startGame(),r.updateGameInfo())}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFVTyxDQUFFaEIsYUFBQUEsRUFBY2EsZUFBQUEsRUFDekIsQ0Q3R3dCSyxDQUFvQjFCLEdBRTFDQyxFQUFjTyxlQUdPNUssU0FBU2dLLGVBQWUsZUFDaENHLGlCQUFpQixTQUFTLFdBQ3JDQyxFQUFLMkIsYUFDTFIsTUFBTSxxQkFBRHJOLE9BQXNCa00sRUFBS2xGLFdBQWEsV0FBYSxjQUM1RCxJQUdvQmxGLFNBQVNnSyxlQUFlLGNBQ2hDRyxpQkFBaUIsU0FBUyxXQUMvQkMsRUFBS3pELGdCQUNSeUQsRUFBS3VCLFlBQ0x0QixFQUFjb0IsaUJBRWxCLEdBQ0YsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAtcHJvamVjdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9zdHlsZXMvc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAtcHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0L3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9zdHlsZXMvc3R5bGVzLmNzcz82YmM2Iiwid2VicGFjazovL2JhdHRsZXNoaXAtcHJvamVjdC8uL3NyYy9tb2R1bGVzL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9zcmMvbW9kdWxlcy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0Ly4vc3JjL21vZHVsZXMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9zcmMvbW9kdWxlcy9nYW1lY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLXByb2plY3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1wcm9qZWN0Ly4vc3JjL21vZHVsZXMvZG9tLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAvKiBHZW5lcmFsIFN0eWxlcyAqL1xyXG5ib2R5IHtcclxuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMmU7XHJcbiAgY29sb3I6ICNmZmZmZmY7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi8qIEhlYWRlciAqL1xyXG5oZWFkZXIge1xyXG4gIGJhY2tncm91bmQ6ICMxNjIxM2U7XHJcbiAgcGFkZGluZzogMXJlbTtcclxuICBmb250LXNpemU6IDEuNXJlbTtcclxufVxyXG5cclxuLyogTWFpbiBMYXlvdXQgKi9cclxuLmJvYXJkcy1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgZ2FwOiAycmVtO1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5ib2FyZC1zZWN0aW9uIGgyIHtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4vKiBHYW1lIEJvYXJkcyAqL1xyXG4uYm9hcmQge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDMwcHgpO1xyXG4gIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAzMHB4KTtcclxuICBnYXA6IDJweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGYzNDYwO1xyXG4gIHBhZGRpbmc6IDVweDtcclxufVxyXG5cclxuLmNlbGwge1xyXG4gIHdpZHRoOiAzMHB4O1xyXG4gIGhlaWdodDogMzBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjNTc2NTc0O1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgLyogUmVtb3ZlIGFueSB0cmFuc2l0aW9ucyBvciBhbmltYXRpb25zICovXHJcbiAgdHJhbnNpdGlvbjogbm9uZTtcclxufVxyXG5cclxuLyogTWFrZSBzaGlwIGNlbGxzIHZpc2libGUgKi9cclxuLmNlbGwuc2hpcCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNhM2EzYTsgLyogR3JheSBmb3Igc2hpcHMgKi9cclxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xyXG59XHJcblxyXG4vKiBNYWtlIGhpdCBjZWxscyB2aXNpYmxlICovXHJcbi5jZWxsLmhpdCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkOyAvKiBSZWQgY29sb3IgZm9yIGhpdHMgb24gc2hpcHMgKi9cclxuICBib3JkZXI6IDJweCBzb2xpZCAjZmYwMDAwO1xyXG59XHJcblxyXG4vKiBNYWtlIG1pc3MgY2VsbHMgdmlzaWJsZSAqL1xyXG4uY2VsbC5taXNzIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlOyAvKiBCbHVlIGNvbG9yIGZvciBtaXNzZXMgKi9cclxuICBib3JkZXI6IDJweCBzb2xpZCAjMDAwMGZmO1xyXG59XHJcblxyXG4uY2VsbC5zaGlwLmhpdCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlOyAvKiBIaWdobGlnaHQgaGl0IHNoaXAgY2VsbHMgKi9cclxufVxyXG5cclxuLmNlbGwuaGlkZGVuIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjMGMwO1xyXG59XHJcblxyXG4vKiBDb250cm9scyAqL1xyXG4uY29udHJvbHMge1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNDc1NztcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHBhZGRpbmc6IDEwcHggMTVweDtcclxuICBtYXJnaW46IDVweDtcclxuICBmb250LXNpemU6IDFyZW07XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTg0MTE4O1xyXG59XHJcblxyXG4vKiBEaXNhYmxlIGJ1dHRvbnMgd2hlbiB0aGV5IGFyZSBkaXNhYmxlZCAqL1xyXG5idXR0b246ZGlzYWJsZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM4ODg4ODg7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG5cclxuYnV0dG9uI3Jlc3RhcnQtZ2FtZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzRjYWY1MDsgLyogR3JlZW4gY29sb3IgZm9yIHJlc3RhcnQgYnV0dG9uICovXHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBwYWRkaW5nOiAxMHB4IDE1cHg7XHJcbiAgbWFyZ2luOiA1cHg7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbmJ1dHRvbiNyZXN0YXJ0LWdhbWU6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7XHJcbn1cclxuXHJcbi8qIFJlc3BvbnNpdmUgRGVzaWduICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIC5ib2FyZHMtY29udGFpbmVyIHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLmJvYXJkIHtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAyNXB4KTtcclxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAyNXB4KTtcclxuICB9XHJcbn1cclxuYCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zdHlsZXMvc3R5bGVzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQSxtQkFBbUI7QUFDbkI7RUFDRSw4QkFBOEI7RUFDOUIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixjQUFjO0VBQ2QsU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQSxXQUFXO0FBQ1g7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLGlCQUFpQjtBQUNuQjs7QUFFQSxnQkFBZ0I7QUFDaEI7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLFNBQVM7RUFDVCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUEsZ0JBQWdCO0FBQ2hCO0VBQ0UsYUFBYTtFQUNiLHVDQUF1QztFQUN2QyxvQ0FBb0M7RUFDcEMsUUFBUTtFQUNSLHlCQUF5QjtFQUN6QixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLHlDQUF5QztFQUN6QyxnQkFBZ0I7QUFDbEI7O0FBRUEsNEJBQTRCO0FBQzVCO0VBQ0UseUJBQXlCLEVBQUUsbUJBQW1CO0VBQzlDLHlCQUF5QjtBQUMzQjs7QUFFQSwyQkFBMkI7QUFDM0I7RUFDRSxxQkFBcUIsRUFBRSxnQ0FBZ0M7RUFDdkQseUJBQXlCO0FBQzNCOztBQUVBLDRCQUE0QjtBQUM1QjtFQUNFLHNCQUFzQixFQUFFLDBCQUEwQjtFQUNsRCx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx3QkFBd0IsRUFBRSw2QkFBNkI7QUFDekQ7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUEsYUFBYTtBQUNiO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxlQUFlO0VBQ2YsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSwyQ0FBMkM7QUFDM0M7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UseUJBQXlCLEVBQUUsbUNBQW1DO0VBQzlELFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxlQUFlO0VBQ2YsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRTtJQUNFLHNCQUFzQjtJQUN0QixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSx1Q0FBdUM7SUFDdkMsb0NBQW9DO0VBQ3RDO0FBQ0ZcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyogR2VuZXJhbCBTdHlsZXMgKi9cXHJcXG5ib2R5IHtcXHJcXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMmU7XFxyXFxuICBjb2xvcjogI2ZmZmZmZjtcXHJcXG4gIG1hcmdpbjogMDtcXHJcXG4gIHBhZGRpbmc6IDA7XFxyXFxufVxcclxcblxcclxcbi8qIEhlYWRlciAqL1xcclxcbmhlYWRlciB7XFxyXFxuICBiYWNrZ3JvdW5kOiAjMTYyMTNlO1xcclxcbiAgcGFkZGluZzogMXJlbTtcXHJcXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBNYWluIExheW91dCAqL1xcclxcbi5ib2FyZHMtY29udGFpbmVyIHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gIGdhcDogMnJlbTtcXHJcXG4gIG1hcmdpbi10b3A6IDIwcHg7XFxyXFxufVxcclxcblxcclxcbi5ib2FyZC1zZWN0aW9uIGgyIHtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxyXFxufVxcclxcblxcclxcbi8qIEdhbWUgQm9hcmRzICovXFxyXFxuLmJvYXJkIHtcXHJcXG4gIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMzBweCk7XFxyXFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMzBweCk7XFxyXFxuICBnYXA6IDJweDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwZjM0NjA7XFxyXFxuICBwYWRkaW5nOiA1cHg7XFxyXFxufVxcclxcblxcclxcbi5jZWxsIHtcXHJcXG4gIHdpZHRoOiAzMHB4O1xcclxcbiAgaGVpZ2h0OiAzMHB4O1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgIzU3NjU3NDtcXHJcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gIC8qIFJlbW92ZSBhbnkgdHJhbnNpdGlvbnMgb3IgYW5pbWF0aW9ucyAqL1xcclxcbiAgdHJhbnNpdGlvbjogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLyogTWFrZSBzaGlwIGNlbGxzIHZpc2libGUgKi9cXHJcXG4uY2VsbC5zaGlwIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzYTNhM2E7IC8qIEdyYXkgZm9yIHNoaXBzICovXFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBNYWtlIGhpdCBjZWxscyB2aXNpYmxlICovXFxyXFxuLmNlbGwuaGl0IHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDsgLyogUmVkIGNvbG9yIGZvciBoaXRzIG9uIHNoaXBzICovXFxyXFxuICBib3JkZXI6IDJweCBzb2xpZCAjZmYwMDAwO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBNYWtlIG1pc3MgY2VsbHMgdmlzaWJsZSAqL1xcclxcbi5jZWxsLm1pc3Mge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTsgLyogQmx1ZSBjb2xvciBmb3IgbWlzc2VzICovXFxyXFxuICBib3JkZXI6IDJweCBzb2xpZCAjMDAwMGZmO1xcclxcbn1cXHJcXG5cXHJcXG4uY2VsbC5zaGlwLmhpdCB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBvcmFuZ2U7IC8qIEhpZ2hsaWdodCBoaXQgc2hpcCBjZWxscyAqL1xcclxcbn1cXHJcXG5cXHJcXG4uY2VsbC5oaWRkZW4ge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDtcXHJcXG59XFxyXFxuXFxyXFxuLyogQ29udHJvbHMgKi9cXHJcXG4uY29udHJvbHMge1xcclxcbiAgbWFyZ2luLXRvcDogMjBweDtcXHJcXG59XFxyXFxuXFxyXFxuYnV0dG9uIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjQ3NTc7XFxyXFxuICBjb2xvcjogd2hpdGU7XFxyXFxuICBib3JkZXI6IG5vbmU7XFxyXFxuICBwYWRkaW5nOiAxMHB4IDE1cHg7XFxyXFxuICBtYXJnaW46IDVweDtcXHJcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXHJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuYnV0dG9uOmhvdmVyIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlODQxMTg7XFxyXFxufVxcclxcblxcclxcbi8qIERpc2FibGUgYnV0dG9ucyB3aGVuIHRoZXkgYXJlIGRpc2FibGVkICovXFxyXFxuYnV0dG9uOmRpc2FibGVkIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4ODg4ODg7XFxyXFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcclxcbn1cXHJcXG5cXHJcXG5idXR0b24jcmVzdGFydC1nYW1lIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7IC8qIEdyZWVuIGNvbG9yIGZvciByZXN0YXJ0IGJ1dHRvbiAqL1xcclxcbiAgY29sb3I6IHdoaXRlO1xcclxcbiAgYm9yZGVyOiBub25lO1xcclxcbiAgcGFkZGluZzogMTBweCAxNXB4O1xcclxcbiAgbWFyZ2luOiA1cHg7XFxyXFxuICBmb250LXNpemU6IDFyZW07XFxyXFxuICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxyXFxufVxcclxcblxcclxcbmJ1dHRvbiNyZXN0YXJ0LWdhbWU6aG92ZXIge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQ1YTA0OTtcXHJcXG59XFxyXFxuXFxyXFxuLyogUmVzcG9uc2l2ZSBEZXNpZ24gKi9cXHJcXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcXHJcXG4gIC5ib2FyZHMtY29udGFpbmVyIHtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5ib2FyZCB7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAyNXB4KTtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDI1cHgpO1xcclxcbiAgfVxcclxcbn1cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lYm9hcmQge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ib2FyZCA9IFtdO1xyXG4gICAgdGhpcy5zaGlwcyA9IFtdO1xyXG4gICAgdGhpcy5jcmVhdGVCb2FyZCgpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQm9hcmQoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgbGV0IHJvdyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcclxuICAgICAgICByb3cucHVzaCh7IHNoaXA6IG51bGwsIGhpdDogZmFsc2UgfSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5ib2FyZC5wdXNoKHJvdyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwbGFjZVNoaXAoc2hpcCwgeCwgeSwgaXNWZXJ0aWNhbCkge1xyXG4gICAgY29uc3Qgc2hpcExlbmd0aCA9IHNoaXAubGVuZ3RoO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBzaGlwIGZpdHMgd2l0aGluIHRoZSBib2FyZCBib3VuZGFyaWVzXHJcbiAgICBpZiAoaXNWZXJ0aWNhbCkge1xyXG4gICAgICBpZiAoeSArIHNoaXBMZW5ndGggPiAxMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmJvYXJkW3kgKyBpXVt4XS5zaGlwKSByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgb3ZlcmxhcHBpbmcgc2hpcHNcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoaXMuYm9hcmRbeSArIGldW3hdLnNoaXAgPSBzaGlwOyAvLyBQbGFjZSB0aGUgc2hpcCB2ZXJ0aWNhbGx5XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh4ICsgc2hpcExlbmd0aCA+IDEwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbeV1beCArIGldLnNoaXApIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCBvdmVybGFwcGluZyBzaGlwc1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ib2FyZFt5XVt4ICsgaV0uc2hpcCA9IHNoaXA7IC8vIFBsYWNlIHRoZSBzaGlwIGhvcml6b250YWxseVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zaGlwcy5wdXNoKHNoaXApOyAvLyBBZGQgdGhlIHNoaXAgdG8gdGhlIGxpc3Qgb2YgcGxhY2VkIHNoaXBzXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHJlY2VpdmVBdHRhY2socm93LCBjb2wpIHtcclxuICAgIGNvbnN0IGNlbGwgPSB0aGlzLmJvYXJkW3Jvd11bY29sXTtcclxuICAgIGlmIChjZWxsLmhpdCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGNlbGwuaGl0ID0gdHJ1ZTtcclxuICAgIGlmIChjZWxsLnNoaXApIHtcclxuICAgICAgY2VsbC5zaGlwLmhpdCgpO1xyXG4gICAgICByZXR1cm4gXCJoaXRcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBcIm1pc3NcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFsbFNoaXBzU3VuaygpIHtcclxuICAgIHJldHVybiB0aGlzLnNoaXBzLmV2ZXJ5KChzaGlwKSA9PiBzaGlwLmlzU3VuaygpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBpc0FJID0gZmFsc2UpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmlzQUkgPSBpc0FJO1xyXG4gICAgdGhpcy5hdHRhY2tzTWFkZSA9IG5ldyBTZXQoKTtcclxuICB9XHJcblxyXG4gIGF0dGFjayhvcHBvbmVudEJvYXJkLCB4LCB5KSB7XHJcbiAgICBpZiAodGhpcy5hdHRhY2tzTWFkZS5oYXMoYCR7eH0sJHt5fWApKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5hdHRhY2tzTWFkZS5hZGQoYCR7eH0sJHt5fWApO1xyXG4gICAgcmV0dXJuIG9wcG9uZW50Qm9hcmQucmVjZWl2ZUF0dGFjayh4LCB5KTtcclxuICB9XHJcblxyXG4gIGFpQXR0YWNrKG9wcG9uZW50Qm9hcmQpIHtcclxuICAgIGxldCB4LCB5O1xyXG4gICAgbGV0IGF0dGVtcHRzID0gMDsgLy8gU2FmZWd1YXJkIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHNcclxuICAgIGRvIHtcclxuICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgICAgYXR0ZW1wdHMrKztcclxuICAgICAgaWYgKGF0dGVtcHRzID4gMTAwKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFJIGhhcyBubyB2YWxpZCBtb3ZlcyBsZWZ0IVwiKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEV4aXQgaWYgYWxsIGNlbGxzIGhhdmUgYmVlbiBhdHRhY2tlZFxyXG4gICAgICB9XHJcbiAgICB9IHdoaWxlICh0aGlzLmF0dGFja3NNYWRlLmhhcyhgJHt4fSwke3l9YCkpO1xyXG5cclxuICAgIHRoaXMuYXR0YWNrc01hZGUuYWRkKGAke3h9LCR7eX1gKTtcclxuICAgIHJldHVybiBvcHBvbmVudEJvYXJkLnJlY2VpdmVBdHRhY2soeCwgeSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNoaXAobGVuZ3RoKSB7XHJcbiAgICBsZXQgaGl0cyA9IDA7XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBoaXQoKSB7XHJcbiAgICAgIGlmIChoaXRzIDwgbGVuZ3RoKSBoaXRzKys7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBpc1N1bmsoKSB7XHJcbiAgICAgIHJldHVybiBoaXRzID09PSBsZW5ndGg7XHJcbiAgICB9XHJcbiAgXHJcbiAgICByZXR1cm4geyBsZW5ndGgsIGhpdHMsIGhpdCwgaXNTdW5rIH07XHJcbiAgfSIsImltcG9ydCBHYW1lYm9hcmQgZnJvbSBcIi4uL21vZHVsZXMvZ2FtZWJvYXJkLmpzXCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL21vZHVsZXMvcGxheWVyLmpzXCI7XHJcbmltcG9ydCBTaGlwIGZyb20gXCIuLi9tb2R1bGVzL3NoaXAuanNcIjsgLy8gSW1wb3J0IHRoZSBTaGlwIG1vZHVsZVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2xsZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5pc0dhbWVTdGFydGVkID0gZmFsc2U7IC8vIEdhbWUgaXMgaW5pdGlhbGx5IG5vdCBzdGFydGVkXHJcbiAgICB0aGlzLmlzUGxheWVyVHVybiA9IHRydWU7IC8vIFBsYXllciBzdGFydHMgZmlyc3RcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHRoZSBnYW1lIGJvYXJkcyBmb3IgYm90aCBwbGF5ZXIgYW5kIGNvbXB1dGVyXHJcbiAgICB0aGlzLnBsYXllckJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG4gICAgdGhpcy5jb21wdXRlckJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG5cclxuICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcih0aGlzLnBsYXllckJvYXJkKTtcclxuICAgIHRoaXMuY29tcHV0ZXIgPSBuZXcgUGxheWVyKHRoaXMuY29tcHV0ZXJCb2FyZCk7XHJcblxyXG4gICAgLy8gRGVmaW5lIHNoaXAgdHlwZXMgYXZhaWxhYmxlIGZvciBwbGFjZW1lbnRcclxuICAgIHRoaXMuc2hpcFR5cGVzID0gW1xyXG4gICAgICBcIkNhcnJpZXJcIixcclxuICAgICAgXCJCYXR0bGVzaGlwXCIsXHJcbiAgICAgIFwiQ3J1aXNlclwiLFxyXG4gICAgICBcIlN1Ym1hcmluZVwiLFxyXG4gICAgICBcIkRlc3Ryb3llclwiLFxyXG4gICAgXTtcclxuXHJcbiAgICAvLyBEZWZpbmUgc2hpcCBsZW5ndGhzIGZvciBlYWNoIHR5cGVcclxuICAgIHRoaXMuc2hpcExlbmd0aHMgPSB7XHJcbiAgICAgIENhcnJpZXI6IDUsXHJcbiAgICAgIEJhdHRsZXNoaXA6IDQsXHJcbiAgICAgIENydWlzZXI6IDMsXHJcbiAgICAgIFN1Ym1hcmluZTogMyxcclxuICAgICAgRGVzdHJveWVyOiAyLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBUaGlzIHdpbGwgaG9sZCB0aGUgY3VycmVudCBzaGlwIHR5cGUgdG8gYmUgcGxhY2VkXHJcbiAgICB0aGlzLmN1cnJlbnRTaGlwVHlwZSA9IHRoaXMuc2hpcFR5cGVzWzBdO1xyXG4gICAgdGhpcy5pc1ZlcnRpY2FsID0gdHJ1ZTsgLy8gRGVmYXVsdCBzaGlwIG9yaWVudGF0aW9uXHJcbiAgICB0aGlzLnBsYWNlZFNoaXBzQ291bnQgPSAwOyAvLyBUcmFjayBwbGFjZWQgc2hpcHNcclxuICAgIHRoaXMuY29tcHV0ZXJUYXJnZXRRdWV1ZSA9IFtdOyAvLyBRdWV1ZSBmb3IgYWRqYWNlbnQgY2VsbHMgdG8gdGFyZ2V0XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgdGhlIGxlbmd0aCBvZiBhIHNoaXAgYmFzZWQgb24gaXRzIHR5cGVcclxuICBnZXRTaGlwTGVuZ3RoKHNoaXBUeXBlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zaGlwTGVuZ3Roc1tzaGlwVHlwZV07XHJcbiAgfVxyXG5cclxuICAvLyBTdGFydCB0aGUgZ2FtZSBieSBwbGFjaW5nIHNoaXBzIGZvciB0aGUgY29tcHV0ZXIgYXV0b21hdGljYWxseVxyXG4gIHN0YXJ0R2FtZSgpIHtcclxuICAgIGlmICh0aGlzLnBsYWNlZFNoaXBzQ291bnQgPCB0aGlzLnNoaXBUeXBlcy5sZW5ndGgpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJQbGFjZSBhbGwgc2hpcHMgYmVmb3JlIHN0YXJ0aW5nIHRoZSBnYW1lIVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pc0dhbWVTdGFydGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNQbGF5ZXJUdXJuID0gdHJ1ZTtcclxuICAgIHRoaXMucGxhY2VDb21wdXRlclNoaXBzKCk7IC8vIFBsYWNlIGNvbXB1dGVyIHNoaXBzIHJhbmRvbWx5XHJcbiAgICBjb25zb2xlLmxvZyhcIkdhbWUgc3RhcnRlZCFcIik7XHJcbiAgfVxyXG5cclxuICBwbGFjZUNvbXB1dGVyU2hpcHMoKSB7XHJcbiAgICB0aGlzLnNoaXBUeXBlcy5mb3JFYWNoKChzaGlwVHlwZSkgPT4ge1xyXG4gICAgICBsZXQgcGxhY2VkID0gZmFsc2U7XHJcbiAgICAgIHdoaWxlICghcGxhY2VkKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xyXG4gICAgICAgIGNvbnN0IGlzVmVydGljYWwgPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xyXG4gICAgICAgIGNvbnN0IHNoaXAgPSBuZXcgU2hpcCh0aGlzLmdldFNoaXBMZW5ndGgoc2hpcFR5cGUpKTtcclxuICAgICAgICBwbGFjZWQgPSB0aGlzLmNvbXB1dGVyQm9hcmQucGxhY2VTaGlwKHNoaXAsIHgsIHksIGlzVmVydGljYWwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFBsYWNlIHRoZSBjdXJyZW50IHNoaXAgb24gdGhlIGJvYXJkIGF0IHRoZSBnaXZlbiByb3cgYW5kIGNvbHVtblxyXG4gIHBsYWNlU2hpcCh4LCB5KSB7XHJcbiAgICBjb25zdCBzaGlwTGVuZ3RoID0gdGhpcy5nZXRTaGlwTGVuZ3RoKHRoaXMuY3VycmVudFNoaXBUeXBlKTtcclxuICAgIGNvbnN0IHNoaXAgPSBuZXcgU2hpcChzaGlwTGVuZ3RoKTtcclxuICAgIGNvbnN0IHBsYWNlZCA9IHRoaXMucGxheWVyQm9hcmQucGxhY2VTaGlwKHNoaXAsIHgsIHksIHRoaXMuaXNWZXJ0aWNhbCk7XHJcbiAgICBpZiAocGxhY2VkKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBQbGFjZWQgJHt0aGlzLmN1cnJlbnRTaGlwVHlwZX0gYXQgKCR7eH0sICR7eX0pYCk7XHJcbiAgICAgIHRoaXMucGxhY2VkU2hpcHNDb3VudCsrO1xyXG4gICAgICB0aGlzLm1vdmVUb05leHRTaGlwKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhgRmFpbGVkIHRvIHBsYWNlICR7dGhpcy5jdXJyZW50U2hpcFR5cGV9IGF0ICgke3h9LCAke3l9KWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBsYWNlZDtcclxuICB9XHJcblxyXG4gIC8vIExvZ2ljIHRvIG1vdmUgYSBzaGlwIG9uIHRoZSBwbGF5ZXIncyBib2FyZFxyXG4gIG1vdmVTaGlwKHgsIHkpIHtcclxuICAgIC8vIEVuc3VyZSB0aGUgbW92ZSBpcyB2YWxpZCBhbmQgdXBkYXRlIHRoZSBib2FyZFxyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlIHNoaXAgcm90YXRpb24gKHJvdGF0ZSB0aGUgY3VycmVudCBzaGlwIGJldHdlZW4gaG9yaXpvbnRhbCBhbmQgdmVydGljYWwpXHJcbiAgcm90YXRlU2hpcCgpIHtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9ICF0aGlzLmlzVmVydGljYWw7IC8vIFRvZ2dsZSBvcmllbnRhdGlvblxyXG4gIH1cclxuXHJcbiAgLy8gTW92ZSB0byB0aGUgbmV4dCBzaGlwIHR5cGUgYWZ0ZXIgb25lIGlzIHBsYWNlZFxyXG4gIG1vdmVUb05leHRTaGlwKCkge1xyXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5zaGlwVHlwZXMuaW5kZXhPZih0aGlzLmN1cnJlbnRTaGlwVHlwZSk7XHJcbiAgICBpZiAoY3VycmVudEluZGV4IDwgdGhpcy5zaGlwVHlwZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAvLyBTZXQgdGhlIG5leHQgc2hpcCB0eXBlIGluIHRoZSBsaXN0XHJcbiAgICAgIHRoaXMuY3VycmVudFNoaXBUeXBlID0gdGhpcy5zaGlwVHlwZXNbY3VycmVudEluZGV4ICsgMV07XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucGxhY2VkU2hpcHNDb3VudCA9PT0gdGhpcy5zaGlwVHlwZXMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxsIHNoaXBzIHBsYWNlZC4gUmVhZHkgdG8gc3RhcnQgdGhlIGdhbWUuXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBwbGF5ZXIncyB0dXJuIGxvZ2ljLCBhdHRhY2tpbmcgdGhlIGNvbXB1dGVyJ3MgYm9hcmRcclxuICBhdHRhY2tDb21wdXRlcih4LCB5KSB7XHJcbiAgICBpZiAoIXRoaXMuaXNQbGF5ZXJUdXJuIHx8ICF0aGlzLmlzR2FtZVN0YXJ0ZWQpIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCBhdHRhY2tpbmcgb3V0IG9mIHR1cm5cclxuICAgIGNvbnN0IGNlbGxEYXRhID0gdGhpcy5jb21wdXRlckJvYXJkLmJvYXJkW3ldW3hdO1xyXG4gICAgaWYgKGNlbGxEYXRhLmhpdCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIllvdSBhbHJlYWR5IGF0dGFja2VkIHRoaXMgY2VsbCFcIik7XHJcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCByZXBlYXRlZCBhdHRhY2tzXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5jb21wdXRlckJvYXJkLnJlY2VpdmVBdHRhY2soeSwgeCk7XHJcbiAgICBpZiAocmVzdWx0ID09PSBcImhpdFwiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiWW91IGhpdCBhIHNoaXAhXCIpO1xyXG4gICAgICB0aGlzLmNoZWNrRm9yV2lubmVyKCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7IC8vIEFsbG93IHRoZSBwbGF5ZXIgdG8gdGFrZSBhbm90aGVyIHR1cm5cclxuICAgIH0gZWxzZSBpZiAocmVzdWx0ID09PSBcIm1pc3NcIikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIllvdSBtaXNzZWQhXCIpO1xyXG4gICAgICB0aGlzLmlzUGxheWVyVHVybiA9IGZhbHNlOyAvLyBFbmQgcGxheWVyJ3MgdHVyblxyXG4gICAgICB0aGlzLmNoZWNrRm9yV2lubmVyKCk7XHJcbiAgICAgIGlmICh0aGlzLmlzR2FtZVN0YXJ0ZWQpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY29tcHV0ZXJUdXJuKCksIDUwMCk7IC8vIERlbGF5IGZvciBjb21wdXRlcidzIHR1cm5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGNvbXB1dGVyVHVybigpIHtcclxuICAgIGlmICh0aGlzLmlzUGxheWVyVHVybiB8fCAhdGhpcy5pc0dhbWVTdGFydGVkKSByZXR1cm47IC8vIFByZXZlbnQgY29tcHV0ZXIgZnJvbSBwbGF5aW5nIG91dCBvZiB0dXJuXHJcblxyXG4gICAgbGV0IHgsIHksIHJlc3VsdDtcclxuXHJcbiAgICAvLyBJZiB0aGVyZSBhcmUgY2VsbHMgaW4gdGhlIHRhcmdldCBxdWV1ZSwgcHJpb3JpdGl6ZSB0aGVtXHJcbiAgICB3aGlsZSAodGhpcy5jb21wdXRlclRhcmdldFF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgW3gsIHldID0gdGhpcy5jb21wdXRlclRhcmdldFF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgIGlmICghdGhpcy5wbGF5ZXJCb2FyZC5ib2FyZFt5XVt4XS5oaXQpIHtcclxuICAgICAgICByZXN1bHQgPSB0aGlzLnBsYXllckJvYXJkLnJlY2VpdmVBdHRhY2soeSwgeCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBubyB2YWxpZCBhZGphY2VudCBjZWxscyBhcmUgbGVmdCwgcGljayBhIHJhbmRvbSBjZWxsXHJcbiAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICBsZXQgYXR0ZW1wdHMgPSAwOyAvLyBBZGQgYSBzYWZlZ3VhcmQgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xyXG4gICAgICBkbyB7XHJcbiAgICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgICAgICB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xyXG4gICAgICAgIGF0dGVtcHRzKys7XHJcbiAgICAgICAgaWYgKGF0dGVtcHRzID4gMTAwKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ29tcHV0ZXIgaGFzIG5vIHZhbGlkIG1vdmVzIGxlZnQhXCIpO1xyXG4gICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGlmIGFsbCBjZWxscyBoYXZlIGJlZW4gYXR0YWNrZWRcclxuICAgICAgICB9XHJcbiAgICAgIH0gd2hpbGUgKHRoaXMucGxheWVyQm9hcmQuYm9hcmRbeV1beF0uaGl0KTsgLy8gRW5zdXJlIHRoZSBjZWxsIGhhc24ndCBhbHJlYWR5IGJlZW4gYXR0YWNrZWRcclxuICAgICAgcmVzdWx0ID0gdGhpcy5wbGF5ZXJCb2FyZC5yZWNlaXZlQXR0YWNrKHksIHgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXN1bHQgPT09IFwiaGl0XCIpIHtcclxuICAgICAgY29uc29sZS5sb2coYENvbXB1dGVyIGhpdCB5b3VyIHNoaXAgYXQgKCR7eH0sICR7eX0pIWApO1xyXG4gICAgICB0aGlzLmFkZEFkamFjZW50Q2VsbHNUb1F1ZXVlKHgsIHkpOyAvLyBBZGQgYWRqYWNlbnQgY2VsbHMgdG8gdGhlIHRhcmdldCBxdWV1ZVxyXG4gICAgICB0aGlzLmNoZWNrRm9yV2lubmVyKCk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jb21wdXRlclR1cm4oKSwgNTAwKTsgLy8gQWxsb3cgdGhlIGNvbXB1dGVyIHRvIHRha2UgYW5vdGhlciB0dXJuXHJcbiAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PT0gXCJtaXNzXCIpIHtcclxuICAgICAgY29uc29sZS5sb2coYENvbXB1dGVyIG1pc3NlZCBhdCAoJHt4fSwgJHt5fSkuYCk7XHJcbiAgICAgIHRoaXMuaXNQbGF5ZXJUdXJuID0gdHJ1ZTsgLy8gRW5kIGNvbXB1dGVyJ3MgdHVyblxyXG4gICAgICB0aGlzLmNoZWNrRm9yV2lubmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHJpZ2dlciBib2FyZCByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbXB1dGVyJ3MgdHVyblxyXG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJ1cGRhdGVCb2FyZHNcIikpO1xyXG4gIH1cclxuXHJcbiAgYWRkQWRqYWNlbnRDZWxsc1RvUXVldWUoeCwgeSkge1xyXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcclxuICAgICAgWzAsIDFdLCAvLyBSaWdodFxyXG4gICAgICBbMSwgMF0sIC8vIERvd25cclxuICAgICAgWzAsIC0xXSwgLy8gTGVmdFxyXG4gICAgICBbLTEsIDBdLCAvLyBVcFxyXG4gICAgXTtcclxuXHJcbiAgICBkaXJlY3Rpb25zLmZvckVhY2goKFtkeCwgZHldKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1ggPSB4ICsgZHg7XHJcbiAgICAgIGNvbnN0IG5ld1kgPSB5ICsgZHk7XHJcblxyXG4gICAgICAvLyBFbnN1cmUgdGhlIGNlbGwgaXMgd2l0aGluIGJvdW5kcyBhbmQgaGFzbid0IGFscmVhZHkgYmVlbiBhdHRhY2tlZFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbmV3WCA+PSAwICYmXHJcbiAgICAgICAgbmV3WCA8IDEwICYmXHJcbiAgICAgICAgbmV3WSA+PSAwICYmXHJcbiAgICAgICAgbmV3WSA8IDEwICYmXHJcbiAgICAgICAgIXRoaXMucGxheWVyQm9hcmQuYm9hcmRbbmV3WV1bbmV3WF0uaGl0ICYmXHJcbiAgICAgICAgIXRoaXMuY29tcHV0ZXJUYXJnZXRRdWV1ZS5zb21lKChbcXgsIHF5XSkgPT4gcXggPT09IG5ld1ggJiYgcXkgPT09IG5ld1kpIC8vIEF2b2lkIGR1cGxpY2F0ZXNcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jb21wdXRlclRhcmdldFF1ZXVlLnB1c2goW25ld1gsIG5ld1ldKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiBlaXRoZXIgcGxheWVyIGhhcyB3b24gdGhlIGdhbWVcclxuICBjaGVja0Zvcldpbm5lcigpIHtcclxuICAgIGlmICh0aGlzLmNvbXB1dGVyQm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJQbGF5ZXIgd2lucyFcIik7XHJcbiAgICAgIHRoaXMuZW5kR2FtZShcIlBsYXllclwiKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJCb2FyZC5hbGxTaGlwc1N1bmsoKSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkNvbXB1dGVyIHdpbnMhXCIpO1xyXG4gICAgICB0aGlzLmVuZEdhbWUoXCJDb21wdXRlclwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVuZEdhbWUod2lubmVyKSB7XHJcbiAgICB0aGlzLmlzR2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGdhbWVJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLWluZm9cIik7XHJcbiAgICBnYW1lSW5mby50ZXh0Q29udGVudCA9IGBHYW1lIE92ZXIhICR7d2lubmVyfSB3aW5zIWA7IC8vIERpc3BsYXkgdGhlIHdpbm5lcidzIG5hbWVcclxuICAgIGNvbnN0IHJlc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3RhcnQtZ2FtZVwiKTtcclxuICAgIHJlc3RhcnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7IC8vIFNob3cgdGhlIHJlc3RhcnQgYnV0dG9uXHJcbiAgfVxyXG5cclxuICAvLyBSZXNldCB0aGUgZ2FtZSBhZnRlciBhIHdpblxyXG4gIHJlc2V0R2FtZSgpIHtcclxuICAgIHRoaXMuaXNHYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5pc1BsYXllclR1cm4gPSB0cnVlO1xyXG4gICAgdGhpcy5wbGF5ZXJCb2FyZCA9IG5ldyBHYW1lYm9hcmQoKTsgLy8gUmVzZXQgdGhlIHBsYXllcidzIGJvYXJkXHJcbiAgICB0aGlzLmNvbXB1dGVyQm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7IC8vIFJlc2V0IHRoZSBjb21wdXRlcidzIGJvYXJkXHJcbiAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIodGhpcy5wbGF5ZXJCb2FyZCk7IC8vIFJlaW5pdGlhbGl6ZSB0aGUgcGxheWVyXHJcbiAgICB0aGlzLmNvbXB1dGVyID0gbmV3IFBsYXllcih0aGlzLmNvbXB1dGVyQm9hcmQpOyAvLyBSZWluaXRpYWxpemUgdGhlIGNvbXB1dGVyXHJcblxyXG4gICAgLy8gUmVzZXQgc2hpcCBwbGFjZW1lbnRcclxuICAgIHRoaXMuY3VycmVudFNoaXBUeXBlID0gdGhpcy5zaGlwVHlwZXNbMF07XHJcbiAgICB0aGlzLnBsYWNlZFNoaXBzQ291bnQgPSAwO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiR2FtZSBoYXMgYmVlbiByZXNldC5cIik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBcIi4uL3N0eWxlcy9zdHlsZXMuY3NzXCI7IC8vIEltcG9ydCB0aGUgQ1NTIGZpbGVcclxuaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gXCIuLi9zcmMvbW9kdWxlcy9nYW1lY29udHJvbGxlci5qc1wiO1xyXG5pbXBvcnQgY3JlYXRlRE9NQ29udHJvbGxlciBmcm9tIFwiLi4vc3JjL21vZHVsZXMvZG9tLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lQ29udHJvbGxlcigpO1xyXG4gIGNvbnN0IGRvbUNvbnRyb2xsZXIgPSBjcmVhdGVET01Db250cm9sbGVyKGdhbWUpO1xyXG5cclxuICBkb21Db250cm9sbGVyLnJlbmRlckJvYXJkcygpO1xyXG5cclxuICAvLyBSb3RhdGUgc2hpcCBidXR0b25cclxuICBjb25zdCByb3RhdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvdGF0ZS1zaGlwXCIpO1xyXG4gIHJvdGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgZ2FtZS5yb3RhdGVTaGlwKCk7XHJcbiAgICBhbGVydChgU2hpcCBvcmllbnRhdGlvbjogJHtnYW1lLmlzVmVydGljYWwgPyBcIlZlcnRpY2FsXCIgOiBcIkhvcml6b250YWxcIn1gKTtcclxuICB9KTtcclxuXHJcbiAgLy8gU3RhcnQgZ2FtZSBidXR0b25cclxuICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnQtZ2FtZVwiKTtcclxuICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgaWYgKCFnYW1lLmlzR2FtZVN0YXJ0ZWQpIHtcclxuICAgICAgZ2FtZS5zdGFydEdhbWUoKTtcclxuICAgICAgZG9tQ29udHJvbGxlci51cGRhdGVHYW1lSW5mbygpOyAvLyBVcGRhdGUgZ2FtZSBpbmZvIHdoZW4gdGhlIGdhbWUgc3RhcnRzXHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG4iLCJpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vZ2FtZWNvbnRyb2xsZXIuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZURPTUNvbnRyb2xsZXIoZ2FtZUNvbnRyb2xsZXIpIHtcclxuICBjb25zdCBwbGF5ZXJCb2FyZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllci1ib2FyZFwiKTtcclxuICBjb25zdCBjb21wdXRlckJvYXJkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcHV0ZXItYm9hcmRcIik7XHJcbiAgY29uc3QgZ2FtZUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWUtaW5mb1wiKTtcclxuICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnQtZ2FtZVwiKTtcclxuICBjb25zdCByb3RhdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvdGF0ZS1zaGlwXCIpO1xyXG5cclxuICAvLyBGdW5jdGlvbiB0byByZW5kZXIgYm90aCBib2FyZHNcclxuICBmdW5jdGlvbiByZW5kZXJCb2FyZHMoKSB7XHJcbiAgICByZW5kZXJCb2FyZChnYW1lQ29udHJvbGxlci5wbGF5ZXJCb2FyZCwgcGxheWVyQm9hcmRFbGVtZW50LCBmYWxzZSk7IC8vIFBsYXllcidzIGJvYXJkXHJcbiAgICByZW5kZXJCb2FyZChnYW1lQ29udHJvbGxlci5jb21wdXRlckJvYXJkLCBjb21wdXRlckJvYXJkRWxlbWVudCwgdHJ1ZSk7IC8vIENvbXB1dGVyJ3MgYm9hcmRcclxuICB9XHJcblxyXG4gIC8vIEZ1bmN0aW9uIHRvIHJlbmRlciB0aGUgaW5kaXZpZHVhbCBib2FyZFxyXG4gIGZ1bmN0aW9uIHJlbmRlckJvYXJkKGdhbWVib2FyZCwgYm9hcmRFbGVtZW50LCBpc0NvbXB1dGVyKSB7XHJcbiAgICBib2FyZEVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjsgLy8gQ2xlYXIgdGhlIGJvYXJkXHJcblxyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCAxMDsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgMTA7IHgrKykge1xyXG4gICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImNlbGxcIik7XHJcbiAgICAgICAgY2VsbC5kYXRhc2V0LnJvdyA9IHk7XHJcbiAgICAgICAgY2VsbC5kYXRhc2V0LmNvbCA9IHg7XHJcblxyXG4gICAgICAgIGNvbnN0IGNlbGxEYXRhID0gZ2FtZWJvYXJkLmJvYXJkW3ldW3hdO1xyXG5cclxuICAgICAgICAvLyBNYXJrIGhpdHMgYW5kIG1pc3Nlc1xyXG4gICAgICAgIGlmIChjZWxsRGF0YS5oaXQpIHtcclxuICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChjZWxsRGF0YS5zaGlwID8gXCJoaXRcIiA6IFwibWlzc1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNob3cgc2hpcHMgb24gdGhlIHBsYXllcidzIGJvYXJkXHJcbiAgICAgICAgaWYgKGNlbGxEYXRhLnNoaXAgJiYgIWlzQ29tcHV0ZXIpIHtcclxuICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgIGlmICghZ2FtZUNvbnRyb2xsZXIuaXNHYW1lU3RhcnRlZCAmJiAhaXNDb21wdXRlcikge1xyXG4gICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWQgPSBnYW1lQ29udHJvbGxlci5wbGFjZVNoaXAoeCwgeSk7XHJcbiAgICAgICAgICAgIGlmICghcGxhY2VkKSBhbGVydChcIkludmFsaWQgcGxhY2VtZW50ISBUcnkgYWdhaW4uXCIpO1xyXG4gICAgICAgICAgICByZW5kZXJCb2FyZHMoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgYXR0YWNrc1xyXG4gICAgICAgIGlmIChnYW1lQ29udHJvbGxlci5pc0dhbWVTdGFydGVkICYmIGlzQ29tcHV0ZXIpIHtcclxuICAgICAgICAgIGlmIChnYW1lQ29udHJvbGxlci5pc1BsYXllclR1cm4pIHtcclxuICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChjZWxsRGF0YS5oaXQpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IGFscmVhZHkgYXR0YWNrZWQgdGhpcyBjZWxsIVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2FtZUNvbnRyb2xsZXIuYXR0YWNrQ29tcHV0ZXIoeCwgeSk7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyQm9hcmRzKCk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHYW1lSW5mbygpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjZWxsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjsgLy8gRGlzYWJsZSBjbGlja3MgZHVyaW5nIHRoZSBjb21wdXRlcidzIHR1cm5cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJvYXJkRWxlbWVudC5hcHBlbmRDaGlsZChjZWxsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTGlzdGVuIGZvciBib2FyZCB1cGRhdGVzIGFuZCByZS1yZW5kZXIgYm9hcmRzIGR5bmFtaWNhbGx5XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZUJvYXJkc1wiLCAoKSA9PiB7XHJcbiAgICByZW5kZXJCb2FyZHMoKTtcclxuICAgIHVwZGF0ZUdhbWVJbmZvKCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEV2ZW50IGxpc3RlbmVyIHRvIHN0YXJ0IHRoZSBnYW1lXHJcbiAgc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChnYW1lQ29udHJvbGxlci5wbGFjZWRTaGlwc0NvdW50IDwgZ2FtZUNvbnRyb2xsZXIuc2hpcFR5cGVzLmxlbmd0aCkge1xyXG4gICAgICBhbGVydChcIlBsYWNlIGFsbCBzaGlwcyBiZWZvcmUgc3RhcnRpbmcgdGhlIGdhbWUhXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBnYW1lQ29udHJvbGxlci5zdGFydEdhbWUoKTtcclxuICAgIHJlbmRlckJvYXJkcygpO1xyXG4gICAgdXBkYXRlR2FtZUluZm8oKTtcclxuXHJcbiAgICAvLyBEaXNhYmxlIGJ1dHRvbnMgYWZ0ZXIgdGhlIGdhbWUgc3RhcnRzXHJcbiAgICBzdGFydEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICByb3RhdGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH0pO1xyXG5cclxuICAvLyBFdmVudCBsaXN0ZW5lciB0byByZXN0YXJ0IHRoZSBnYW1lXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN0YXJ0LWdhbWVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGdhbWVDb250cm9sbGVyLnJlc2V0R2FtZSgpO1xyXG4gICAgcmVuZGVyQm9hcmRzKCk7XHJcbiAgICB1cGRhdGVHYW1lSW5mbygpO1xyXG5cclxuICAgIC8vIFJlc2V0IFVJIGVsZW1lbnRzXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWUtaW5mb1wiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgIFwiUGxhY2UgeW91ciBzaGlwcyBvciBhZGp1c3QgdGhlaXIgcG9zaXRpb25zXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3RhcnQtZ2FtZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IC8vIEhpZGUgdGhlIHJlc3RhcnQgYnV0dG9uXHJcbiAgICBzdGFydEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgdGhlIHN0YXJ0IGJ1dHRvblxyXG4gICAgcm90YXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSB0aGUgcm90YXRlIGJ1dHRvblxyXG4gIH0pO1xyXG5cclxuICAvLyBGdW5jdGlvbiB0byB1cGRhdGUgZ2FtZSBpbmZvcm1hdGlvblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZUdhbWVJbmZvKCkge1xyXG4gICAgaWYgKCFnYW1lQ29udHJvbGxlci5pc0dhbWVTdGFydGVkKSByZXR1cm47IC8vIFByZXZlbnQgb3ZlcndyaXRpbmcgdGhlIGdhbWUgb3ZlciBtZXNzYWdlXHJcbiAgICBnYW1lSW5mby50ZXh0Q29udGVudCA9IGdhbWVDb250cm9sbGVyLmlzUGxheWVyVHVyblxyXG4gICAgICA/IFwiWW91ciB0dXJuISBDbGljayBvbiB0aGUgY29tcHV0ZXIncyBib2FyZC5cIlxyXG4gICAgICA6IFwiQ29tcHV0ZXIncyB0dXJuISBQbGVhc2Ugd2FpdC4uLlwiO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgcmVuZGVyQm9hcmRzLCB1cGRhdGVHYW1lSW5mbyB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsImkiLCJsZW5ndGgiLCJtb2R1bGVzVG9Eb20iLCJsaXN0Iiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJzdXBwb3J0cyIsImxheWVyIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwicHVzaCIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiY29udGVudCIsIm5lZWRMYXllciIsImpvaW4iLCJtb2R1bGVzIiwiZGVkdXBlIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiaW5zZXJ0IiwibWVtbyIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJsb2NhbHMiLCJHYW1lYm9hcmQiLCJfY2xhc3NDYWxsQ2hlY2siLCJib2FyZCIsInNoaXBzIiwiY3JlYXRlQm9hcmQiLCJ2YWx1ZSIsInJvdyIsImoiLCJzaGlwIiwiaGl0IiwieCIsInkiLCJpc1ZlcnRpY2FsIiwic2hpcExlbmd0aCIsImNvbCIsImNlbGwiLCJldmVyeSIsImlzU3VuayIsIlBsYXllciIsIm5hbWUiLCJpc0FJIiwiYXJndW1lbnRzIiwiYXR0YWNrc01hZGUiLCJTZXQiLCJvcHBvbmVudEJvYXJkIiwiaGFzIiwiYWRkIiwicmVjZWl2ZUF0dGFjayIsImF0dGVtcHRzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29uc29sZSIsImVycm9yIiwiU2hpcCIsImhpdHMiLCJHYW1lQ29udHJvbGxlciIsImlzR2FtZVN0YXJ0ZWQiLCJpc1BsYXllclR1cm4iLCJwbGF5ZXJCb2FyZCIsImNvbXB1dGVyQm9hcmQiLCJwbGF5ZXIiLCJjb21wdXRlciIsInNoaXBUeXBlcyIsInNoaXBMZW5ndGhzIiwiQ2FycmllciIsIkJhdHRsZXNoaXAiLCJDcnVpc2VyIiwiU3VibWFyaW5lIiwiRGVzdHJveWVyIiwiY3VycmVudFNoaXBUeXBlIiwicGxhY2VkU2hpcHNDb3VudCIsImNvbXB1dGVyVGFyZ2V0UXVldWUiLCJzaGlwVHlwZSIsImxvZyIsInBsYWNlQ29tcHV0ZXJTaGlwcyIsIl90aGlzIiwiZm9yRWFjaCIsInBsYWNlZCIsImdldFNoaXBMZW5ndGgiLCJwbGFjZVNoaXAiLCJtb3ZlVG9OZXh0U2hpcCIsImN1cnJlbnRJbmRleCIsImluZGV4T2YiLCJfdGhpczIiLCJjaGVja0Zvcldpbm5lciIsInNldFRpbWVvdXQiLCJjb21wdXRlclR1cm4iLCJfdGhpczMiLCJfdGhpcyRjb21wdXRlclRhcmdldFEyIiwiX3NsaWNlZFRvQXJyYXkiLCJzaGlmdCIsImFkZEFkamFjZW50Q2VsbHNUb1F1ZXVlIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiX3RoaXM0IiwiX3JlZiIsIl9yZWYyIiwiZHgiLCJkeSIsIm5ld1giLCJuZXdZIiwic29tZSIsIl9yZWYzIiwiX3JlZjQiLCJxeCIsInF5IiwiYWxsU2hpcHNTdW5rIiwiZW5kR2FtZSIsIndpbm5lciIsImdldEVsZW1lbnRCeUlkIiwidGV4dENvbnRlbnQiLCJkaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdhbWUiLCJkb21Db250cm9sbGVyIiwiZ2FtZUNvbnRyb2xsZXIiLCJwbGF5ZXJCb2FyZEVsZW1lbnQiLCJjb21wdXRlckJvYXJkRWxlbWVudCIsImdhbWVJbmZvIiwic3RhcnRCdXR0b24iLCJyb3RhdGVCdXR0b24iLCJyZW5kZXJCb2FyZHMiLCJyZW5kZXJCb2FyZCIsImdhbWVib2FyZCIsImJvYXJkRWxlbWVudCIsImlzQ29tcHV0ZXIiLCJpbm5lckhUTUwiLCJfbG9vcCIsIl9sb29wMiIsImNsYXNzTGlzdCIsImRhdGFzZXQiLCJjZWxsRGF0YSIsImFsZXJ0IiwiYXR0YWNrQ29tcHV0ZXIiLCJ1cGRhdGVHYW1lSW5mbyIsInBvaW50ZXJFdmVudHMiLCJzdGFydEdhbWUiLCJkaXNhYmxlZCIsInJlc2V0R2FtZSIsImNyZWF0ZURPTUNvbnRyb2xsZXIiLCJyb3RhdGVTaGlwIl0sInNvdXJjZVJvb3QiOiIifQ==